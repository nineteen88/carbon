import { Meta, Canvas, ArgTypes } from "@storybook/addon-docs";

import * as FlatTableRowStories from "./flat-table-row/flat-table-row.stories";
import * as FlatTableExpandableStories from "./flat-table-expandable.stories";

<Meta
  title="Flat Table/Expandable"
  parameters={{ info: { disable: true } }}
  of={FlatTableExpandableStories}
/>

# Flat Table expandable options

## Examples

### Default

Flat table rows can be made expandable, with any number of sub rows.

<Canvas name="default" of={FlatTableExpandableStories.DefaultStory} />

### Keyboard accessible subrows

In order to make the subrows keyboard accessible you will need to pass a callback to the `onClick` prop as in the example
below.

<Canvas
  name="keyboard accessible subrows"
  of={FlatTableExpandableStories.KeyboardAccessibleSubRows}
/>

### Expandable by first column only

Only clicking on the first column can expand the row with this option set.

<Canvas
  name="expandable by first column only"
  of={FlatTableExpandableStories.ExpandableByFirstColumnOnly}
/>

### With initially expanded rows

Set the rows to be open by default.

<Canvas
  name="initially expanded"
  of={FlatTableExpandableStories.InitiallyExpanded}
/>

### With row headers

Rows with row headers can also be made expandable. In the example below there is both a left and
right hand side sticky column. To set a column to be sticky on the left hand side set the
`stickyAlignment` prop to `left` (this is the default value) and for the right hand side sticky
columns set the prop to `right`.

<Canvas name="row headers" of={FlatTableExpandableStories.RowHeaders} />

### With row headers with custom paddings

Rows with row headers can also be made expandable and can also have custom paddings.
In this example `Child one` has `pl={8}` and `Child two` has `pl={5}` as well as having an icon.

<Canvas
  name="row headers with custom paddings"
  of={FlatTableExpandableStories.RowHeadersWithCustomPaddings}
/>

### With pagination

Tables with pagination can have expandable rows.

<Canvas name="paginated" of={FlatTableExpandableStories.Paginated} />

### With parent and children selectable

By writing your own selectable logic, both parent and child rows can be made selectable.

<Canvas
  name="both parent and children selectable"
  of={FlatTableExpandableStories.BothParentAndChildrenSelectable}
/>

### Parent only selectable

By writing your own selectable logic, the parent rows only can be made selectable.

<Canvas
  name="parent only selectable"
  of={FlatTableExpandableStories.ParentOnlySelectable}
/>

### Children only selectable

By writing your own selectable logic, the child rows only can be made selectable.

<Canvas
  name="children only selectable"
  of={FlatTableExpandableStories.ChildrenOnlySelectable}
/>

### Truncated cell content

In order to achieve the content truncation when using the `expandable` feature you will need to pass in a node with the
truncated styling applied, this is because of the caret icon that is rendered within the cell.

<Canvas
  name="truncated cell content"
  of={FlatTableExpandableStories.TruncatedCellContent}
/>

### Controlled

<Canvas name="controlled" of={FlatTableExpandableStories.Controlled} />

### Table Sizes

<Canvas name="sizes" of={FlatTableExpandableStories.Sizes} />

## Props

### FlatTableRow

<ArgTypes of={FlatTableRowStories} />
